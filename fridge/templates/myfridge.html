{% extends 'base.html' %} 
{% load bootstrap4 %} 
{% bootstrap_css %} 
{% bootstrap_javascript jquery='full' %}
{% load static %} 
{% block content %} 

<style>
    hr{
        background-color: orange;
    }
    #logo{
        position: absolute;
        left:-20px;
        top:-10px;
    }
    #vertical{
        position:absolute;
        left:150px;
    }

    article {
        position:relative;
        left: 200px; top: 20px;
    }
            
    .box1 {
        padding: 10px; padding-bottom: 30px;
        margin: 10px; border: thin solid silver; border-radius: 20px;
        text-align: center;
        position: absolute;
        width: 500px;
        height: 300px;
        top: 100px;
    }
    .box1 p{
        margin: 3px;
    }
    .box2 {
        left: 520px;
    }
    .box3 p{
        font-size: large; font-weight: bold;
        text-align: center;
        margin: 10px;
    }
    .box3 h2 {
        padding: 15px;
        background-color: rgb(248, 173, 74);
    }

    h1 {
        font-size: xx-large;
    }

    #Main{
        font-size: medium;
    }

    #viewcook{
        position: relative;
        top: 330px;
    }

    #MainResult{
        margin: 10px;
        display: inline-block;
        position: relative;
        left: 50px;
        font-size: 15pt;
    }
    #AdditionalResult{
        margin: 10px;
        display: inline-block;
        position: relative;
        left: 50px;
        font-size: 15pt;
    }
    #check {
        width: 200px; height: 50px; position: absolute; right: 300px; top: 200px;
        border-radius: 10px;
        background-color: #f59e00; border-color: #f59e00; 
        -webkit-box-shadow: 0 3px 0 #b37401; box-shadow: 0 3px 0 #b37401;     
    }

    #check:hover {
        background-color:#dd9003;
    }
    
    .dish {
        border:thin solid silver;
        display: inline-block;
        width: 270px; height: 380px;
        padding: 10px; margin: 10px;
        border-radius: 10px;
        text-align: center;
    }
    .dish img{
        max-width: 240px; max-height: 170px; margin: 5px;
    }
    .dish ul {
        margin-top: 5px;
        text-align: left;
    }
    #thispage {
        background-color: rgb(255, 255, 123);
    }

    #img1{
        z-index: 2;
    }

    #img2{
        z-index: 1;
    }
</style>

<body>
    <article>
        <section>
            <h1><img src="{% static 'fridge.png' %}" width="50px">나의 냉장고 _ What's In Your Refrigerator?</h1>
            <p>당신의 냉장고에는 무엇이 있나요? 가지고 있는 재료를 선택해주세요. 선택한 재료로 만들 수 있는 요리와 레시피를 추천해드립니다.</p>
        </section>

        <section>
            <form method="GET" action="{% url 'showdish' %}">
                <div class = "box1">
                    <h2>메인재료</h2>
                    <p>어떤 재료를 메인 재료로 사용하시겠습니까? <br>가지고 있는 메인 재료를 선택해주세요:) <br>* 1개 이상 선택(중복 선택 가능)</p>
                    <hr>
                    <p><input type="checkbox" name="CheckAll" onclick = "checkAllmain(this)"/><strong>전체 선택</strong></p>
                    <input type="checkbox" name="ingredients" value="밥" onclick="getCheckboxValue1()"/>밥
                    <input type="checkbox" name="ingredients" value="식빵" onclick="getCheckboxValue1()"/>식빵
                    <input type="checkbox" name="ingredients" value="달걀" onclick="getCheckboxValue1()"/>달걀
                    <input type="checkbox" name="ingredients" value="김치" onclick="getCheckboxValue1()"/>김치
                    <input type="checkbox" name="ingredients" value="햄" onclick="getCheckboxValue1()"/>햄
                    <p><strong>면류: </strong>
                        <input type="checkbox" name="ingredients" value="라면" onclick="getCheckboxValue1()"/>라면
                        <input type="checkbox" name="ingredients" value="소면" onclick="getCheckboxValue1()"/>소면
                        <input type="checkbox" name="ingredients" value="파스타면" onclick="getCheckboxValue1()"/>파스타면
                    </p>
                    <p><strong>육류: </strong>
                        <input type="checkbox" name="ingredients" value="닭고기" onclick="getCheckboxValue1()"/>닭고기
                        <input type="checkbox" name="ingredients" value="돼지고기" onclick="getCheckboxValue1()"/>돼지고기
                        <input type="checkbox" name="ingredients" value="소고기" onclick="getCheckboxValue1()"/>소고기
                    </p>
                    <p><strong>야채/채소: </strong>
                        <input type="checkbox" name="ingredients" value="버섯" onclick="getCheckboxValu1e()"/>버섯
                        <input type="checkbox" name="ingredients" value="파" onclick="getCheckboxValue1()"/>파
                    </p>
                    
                </div>
                
                
                <div class="box1 box2">
                <h2>부가재료</h2>
                <p>가지고 있는 부가 재료를 선택해주세요:) <br>메인 재료에 부가재료가 포함된 순으로 요리를 정렬하여 보여드립니다.</p>
                <hr>
                <p>
                    <input type="checkbox" name="checkAlladd" /><strong>전체 선택</strong>
                </p>
                <input type="checkbox" name="additional[]" value="올리브유" />올리브유
                <input type="checkbox" name="additional[]" value="우유" />우유
                <input type="checkbox" name="additional[]" value="스파게티 소스" />스파게티 소스
                <input type="checkbox" name="additional[]" value="간장" />간장
                <input type="checkbox" name="additional[]" value="굴소스" />굴소스
                <input type="checkbox" name="additional[]" value="치킨스톡" />치킨스톡
                <br>
                <input type="checkbox" name="additional[]" value="고춧가루" />고춧가루
                <input type="checkbox" name="additional[]" value="고추장" />고추장
                <input type="checkbox" name="additional[]" value="설탕" />설탕
                <input type="checkbox" name="additional[]" value="다진마늘" />다진마늘
                <input type="checkbox" name="additional[]" value="양파"/>양파
                </div>

                <div id="viewcook">

                    <div id="MainResult">선택한 메인 재료: 
                        {% for ingredient in ingredients.all %}
                        {{ ingredient.main_ingre }}
                        {{ ingredient.text }}
                        {% endfor %}
                    </div>
            
                    <br>

                    <div id="AdditionalResult">선택한 부가 재료: 
                        {{ selectedAdd}}
                    </div>

                    <div style="float: right; margin-right: 500px; position: relative;">
                        <img id="img1" src="{% static 'bowl-removebg-preview.png' %}" style="position: absolute; " height="150" width="200">
                        <div style="position: absolute; margin-left: 30px; ">
                            <img id="img2" src="{% static 'whisk-removebg-preview.png' %}" height="100" width="100">
                        </div>
                    </div>
                    <input id="check" type="submit" title="무슨 음식을 할 수 있을까?" target="_self" value="요리보기">
                </div>
            </form>
        </section>  
    </article>
    <script type="text/javascript">
        function checkAllmain(checkAll){
            const checkboxes1 = document.getElementsByName('ingredients');
            checkboxes1.forEach((checkbox) => {
                checkbox.checked = checkAll.checked;
            })
            
            if(checkbox.checked == false){
                CheckAll.checked = false;
            }
        }

        function getCheckboxValue1()  {
            const query1 = 'input[name="ingredients"]:checked';
            const selectedEls1 = document.querySelectorAll(query1);

            let result1 = '';
            selectedEls1.forEach((el1) => {
                result1 += el1.value + ', ';
            });

            document.getElementById('MainResult').innerText= "선택한 메인 재료: "+result1;
        }
    </script>
    {% endblock %}
</body>


