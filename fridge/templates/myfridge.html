{% extends 'base.html' %} 
{% load bootstrap4 %} 
{% bootstrap_css %} 
{% bootstrap_javascript jquery='full' %}
{% load static %} 
{% block content %} 

<html lang="ko">
<head>
    <style>
        hr{
            background-color: orange;
        }

        section {
            position: relative;
            margin: 10px;
        }

        table {
            width: 100%;
        }
        th {
            text-align: center;
        }
                
        .box1 {
            padding: 10px; padding-bottom: 30px;
            margin: 20px; border: thin solid silver; border-radius: 20px;
            text-align: center;
            position: relative;
            display: inline-block;
            width: 800px; height: fit-content;
            left: 50px;
        }
        .box1 p{
            margin: 3px;
        }
    
        h1 {
            font-size: xx-large;
        }
    
        #viewcook{
            position: relative; width: 700px;
            margin-left: 100px;
        }
    
        #MainResult{
            margin: 10px;
            left: 50px;
            font-size: 15pt;
        }
        #AdditionalResult{
            margin: 10px;
            left: 50px;
            font-size: 15pt;
        }
        #check {
            width: 200px; height: 50px; position: relative; left: 375;
            border-radius: 10px;
            background-color: #f59e00; border-color: #f59e00; 
            -webkit-box-shadow: 0 3px 0 #b37401; box-shadow: 0 3px 0 #b37401;
            z-index: 1;   
        }
    
        #check:hover {
            background-color:#dd9003;
        }
    
    </style>
</head>



<body>
    <article>
        <section>
            <h1><img src="{% static 'fridge.png' %}" width="50px">나의 냉장고 _ What's In Your Refrigerator?</h1>
            <p>당신의 냉장고에는 무엇이 있나요? 가지고 있는 재료를 선택해주세요. 선택한 재료로 만들 수 있는 요리와 레시피를 추천해드립니다.</p>
        </section>

        <section>
            <h4>기본 재료</h4>
            <p>기본적으로 필요한 재료들: 소금, 설탕, 후추, 식용유, 올리브유, 참기름, 들기름</p>
            <p>자주 사용되는 재료들: 다진마늘, 굴소스, 파</p>
            <p><strong>메인재료와 부가재료 구분 기준</strong></p>
            <p>메인재료: 해당 음식을 만드는 데에 주가 되는 재료</p>
        </section>

        <section>
            <form method="GET" action="{% url 'showdish' %}">
                <div class = "box1">
                    <h2>메인재료</h2>
                    <p>어떤 재료를 메인 재료로 사용하시겠습니까? <br>가지고 있는 메인 재료를 선택해주세요:) <br>* 1개 이상 선택(중복 선택 가능)</p>
                    <hr>
                    <p><input type="checkbox" name="CheckAll" onclick = "checkAllmain(this)"/><strong>전체 선택</strong></p>
                    <table>
                        <tr>
                            <th>메인</th>
                            <th>면류</th>
                            <th>육류</th>
                            <th>야채/채소</th>
                            <th>주요 소스 </th>
                            <th>디저트류</th>
                        </tr>
                        <tr>
                            <td>
                                <p><input type="checkbox" name="ingredients" value="밥" onclick="getCheckboxValue1()"/>밥</p>
                                <p><input type="checkbox" name="ingredients" value="식빵" onclick="getCheckboxValue1()"/>식빵</p>
                                <p><input type="checkbox" name="ingredients" value="달걀" onclick="getCheckboxValue1()"/>달걀</p>
                                <p><input type="checkbox" name="ingredients" value="김치" onclick="getCheckboxValue1()"/>김치</p>
                                <p><input type="checkbox" name="ingredients" value="햄" onclick="getCheckboxValue1()"/>햄</p>
                            </td>
                            <td>
                                <p><input type="checkbox" name="ingredients" value="라면" onclick="getCheckboxValue1()"/>라면</p>
                                <p><input type="checkbox" name="ingredients" value="소면" onclick="getCheckboxValue1()"/>소면</p>
                                <p><input type="checkbox" name="ingredients" value="파스타면" onclick="getCheckboxValue1()"/>파스타면</p>
                                <p><input type="checkbox" name="ingredients" value="두부면" onclick="getCheckboxValue1()"/>두부면</p>
                            </td>
                            <td>
                                <p><input type="checkbox" name="ingredients" value="닭고기" onclick="getCheckboxValue1()"/>닭고기</p>
                                <p><input type="checkbox" name="ingredients" value="닭가슴살" onclick="getCheckboxValue1()"/>닭가슴살</p>
                                <p><input type="checkbox" name="ingredients" value="돼지고기" onclick="getCheckboxValue1()"/>돼지고기</p>
                                <p><input type="checkbox" name="ingredients" value="삼겹살" onclick="getCheckboxValue1()"/>삼겹살</p>
                                <p><input type="checkbox" name="ingredients" value="돼지목살" onclick="getCheckboxValue1()"/>돼지목살</p>
                                <p><input type="checkbox" name="ingredients" value="소고기" onclick="getCheckboxValue1()"/>소고기</p>
                                <p><input type="checkbox" name="ingredients" value="차돌박이" onclick="getCheckboxValue1()"/>차돌박이</p>
                            </td>
                            <td>
                                <p><input type="checkbox" name="ingredients" value="버섯" onclick="getCheckboxValu1e()"/>버섯</p>
                                <p><input type="checkbox" name="ingredients" value="파" onclick="getCheckboxValue1()"/>파</p>
                                <p><input type="checkbox" name="ingredients" value="양파" onclick="getCheckboxValue1()"/>양파</p>
                                <p><input type="checkbox" name="ingredients" value="샐러드야채" onclick="getCheckboxValue1()"/>샐러드야채</p>
                                <p><input type="checkbox" name="ingredients" value="시금치" onclick="getCheckboxValue1()"/>시금치</p>
                                <p><input type="checkbox" name="ingredients" value="숙주나물" onclick="getCheckboxValue1()"/>숙주나물</p>
                                <p><input type="checkbox" name="ingredients" value="콩나물" onclick="getCheckboxValue1()"/>콩나물</p>
                            </td>
                            <td>
                                <p><input type="checkbox" name="ingredients" value="고추장" onclick="getCheckboxValue1()"/>고추장</p>
                                <p><input type="checkbox" name="ingredients" value="고춧가루" onclick="getCheckboxValue1()"/>고춧가루</p>
                                <p><input type="checkbox" name="ingredients" value="우유" onclick="getCheckboxValue1()"/>우유</p>
                                <p><input type="checkbox" name="ingredients" value="잼" onclick="getCheckboxValue1()"/>잼</p>
                                <p><input type="checkbox" name="ingredients" value="토마토소스" onclick="getCheckboxValue1()"/>토마토소스</p>
                                <p><input type="checkbox" name="ingredients" value="까르보나라소스" onclick="getCheckboxValue1()"/>까르보나라소스</p>
                                <p><input type="checkbox" name="ingredients" value="간장" onclick="getCheckboxValue1()"/>간장</p>
                                <p><input type="checkbox" name="ingredients" value="생크림" onclick="getCheckboxValue1()"/>생크림</p>
                                <p><input type="checkbox" name="ingredients" value="굴소스" onclick="getCheckboxValue1()"/>굴소스</p>
                                <p><input type="checkbox" name="ingredients" value="치킨스톡" onclick="getCheckboxValue1()"/>치킨스톡</p>
                                <p><input type="checkbox" name="ingredients" value="통마늘" onclick="getCheckboxValue1()"/>통마늘</p>
                                <p><input type="checkbox" name="ingredients" value="다진마늘" onclick="getCheckboxValue1()"/>다진마늘</p>
                                <p><input type="checkbox" name="ingredients" value="맛술" onclick="getCheckboxValue1()"/>맛술</p>
                                <p><input type="checkbox" name="ingredients" value="맛술" onclick="getCheckboxValue1()"/>불닭소스</p>
                            </td>
                            <td>
                                <p><input type="checkbox" name="ingredients" value="딸기청" onclick="getCheckboxValue1()"/>딸기청</p>
                                <p><input type="checkbox" name="ingredients" value="자몽청" onclick="getCheckboxValue1()"/>자몽청</p>
                                <p><input type="checkbox" name="ingredients" value="플레인요거트" onclick="getCheckboxValue1()"/>플레인요거트</p>
                            </td>
                        </tr>
                    </table>
                </div>
                <input id="check" type="submit" title="무슨 음식을 할 수 있을까?" target="_self" value="요리보기">
                
            </form>
        </section>  

        <section>
            <div id="viewcook">

                <div id="MainResult">선택한 메인 재료: </div>
            </div>

        </section>

    </article>

    <script type="text/javascript">
    const query1 = 'input[name="ingredients"]:checked';
    const query2 = 'input[name="additional"]:checked';

        function checkAllmain(checkAll){
            const checkboxes1 = document.getElementsByName('ingredients');
            checkboxes1.forEach((checkbox) => {
                checkbox.checked = checkAll.checked;
            })
            
            if(checkbox.checked == false){
                CheckAll.checked = false;
            }

        }
        document.addEventListener('checkboxes', getCheckboxValue1)

        function checkAllAdd(checkAll){
            const checkboxes2 = document.getElementsByName('additional');
            checkboxes2.forEach((checkbox) => {
                checkbox.checked = checkAll.checked;
            })

            if(checkbox.checked == false){
                checkAlladd.checked = false;
            }
        }   

        function getCheckboxValue1()  {
            
            const selectedEls1 = document.querySelectorAll(query1);

            let result1 = ''; var count=1;
            selectedEls1.forEach((el1) => {
                result1 += el1.value
                if (count!=selectedEls1.length) {
                    result1 += ', ';
                    count++
                }
                
            });

            document.getElementById('MainResult').innerText= "선택한 메인 재료: "+result1;
        }

        function getCheckboxValue2()  {

            const selectedEls2 = document.querySelectorAll(query2);

            let result2 = ''; var count2=1;
            selectedEls2.forEach((el2) => {
                result2 += el2.value
                if (count2!=selectedEls2.length) {
                    result2 += ', ';
                    count2++
                }
            });

            document.getElementById('AdditionalResult').innerText= "선택한 부가 재료: "+ result2;
        }
        
    </script>
    {% endblock %}
</body>

</html>
